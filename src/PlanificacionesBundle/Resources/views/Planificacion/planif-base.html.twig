{% extends '::base.html.twig' %}

{% set is_planificacion_definida =  planificacion is defined and planificacion.id is not null %}

{% block content %}
    <div id="planificaciones">

        {#% include 'PlanificacionesBundle:Planificaciones:navbar.html.twig' %#}    

        <div class="light-font mb-0">
            <nav aria-label="breadcrumb ">
                <ol class="breadcrumb bg-azul mb-0">
                    <li class="breadcrumb-item">
                        <a class="text-color-white" href="#">PLANIFICACIONES</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">{{ page_title|default('Sin título') }}</li>
                </ol>
            </nav>
        </div>

        <div class="row no-gutters pt-0" id="menuLateral">
            <div class="col-3">
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <a class="nav-link" id="tab-info-basica" href="#" data-toggle="pill" role="tab" aria-controls="tab-info-basica" aria-selected="false">
                        Información básica
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-equipo-docente" data-toggle="pill" href="#" role="tab" aria-controls="tab-equipo-docente" 
                       aria-selected="false" title="kaskaska" >
                        Equipo docente
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-aprobacion" data-toggle="pill" href="#" role="tab" aria-controls="tab-aprobacion" aria-selected="false">
                        Aprobación de la asignatura
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-objetivos" data-toggle="pill" href="#" role="tab" aria-controls="tab-objetivos" aria-selected="false">
                        Objetivos de la asignatura
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-temario" data-toggle="pill" href="#" role="tab" aria-controls="tab-temario" aria-selected="false">
                        Temario
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-bibliografia" data-toggle="pill" href="#" role="tab" aria-controls="tab-bibliografia" aria-selected="false">
                        Bibliografia
                        <i class="far float-right"></i>
                    </a>

                    <a class="nav-link" id="tab-cronograma" data-toggle="pill" href="#" role="tab" aria-controls="tab-cronograma" aria-selected="false">
                        Cronograma de actividades
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-distribucion" data-toggle="pill" href="#" role="tab" aria-controls="tab-distribucion" aria-selected="false">
                        Distribucion de carga horaria
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-viajes-academicos" data-toggle="pill" href="#" role="tab" aria-controls="tab-viajes-academicos" aria-selected="false">
                        Viajes académicos
                        <i class="far float-right"></i>
                    </a>
                    <a class="nav-link" id="tab-revisar" data-toggle="pill" href="#" role="tab" aria-controls="tab-revisar" aria-selected="false">
                        Revisar borrador                        
                    </a>

                </div>


            </div>

            <div class="col-9">                                


                <div class="tab-content" id="tab-content">



                    {% block tab_content %}


                    {% endblock %}                     


                </div>

            </div>

        </div>


    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}



    <script>

        // Objeto global que guardara toda la informacion de la planificacion
        {% if is_planificacion_definida %}
            PLANIFICACION = {
                id:{{ planificacion.id }}
            };
            console.log("hay id!!!", PLANIFICACION );
        {% endif %}
    </script>



    <script src="{{ asset('bundles/planificaciones/js/ajax-informacion-basica.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-equipo-docente.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-aprobacion.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-objetivos.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-temario.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-bibliografia.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-cronograma.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-distribucion.js') }}"></script>
    <script src="{{ asset('bundles/planificaciones/js/ajax-viajes-academicos.js') }}"></script>

    <script src="{{ asset('bundles/planificaciones/js/abm-planificaciones.js') }}"></script>

    {# JQUERY COLLECTION #}
    <script src="{{ asset('js/jquery.collection.js') }}"></script>
    
    <script>
            SECCIONES = {
                info_basica: "{{ path('planificaciones_ajax_info_basica_get') }}",
                info_basica_edit: "{{ path('planificaciones_ajax_info_basica_edit', {'id' : '--ID--'}) }}",
                editar_planif: "{{ path('planificaciones_edit', {'id' : '--ID--'}) }}",
                equipo_docente: "{{ path('planificacion_ajax_equipo_docente_edit', {'id' : '--ID--'}) }}",
                get_docente: "{{ path('planificaciones_ajax_equipo_docente_get_docente', {'pos' : '--POS--'}) }}",
                req_aprobacion: "{{ path('planificacion_ajax_aprobacion_editar' ,{'id' : '--ID--'}) }}",
                objetivos: "{{ path('planificacion_ajax_objetivos_editar', {'id' : '--ID--'}) }}",
                temario: "{{ path('planificacion_ajax_temario_editar', {'id' : '--ID--'}) }}",
                bibliografia: "{{ path('planificacion_ajax_bibliografia_editar', {'id' : '--ID--'}) }}",
                cronograma: "{{ path('planificacion_ajax_cronograma_editar', {'id' : '--ID--'}) }}",
                distribucion: "{{ path('planificacion_ajax_distribucion_editar', {'id' : '--ID--'}) }}",
                viajes_academicos: "{{ path('planificacion_ajax_viajes_acad_editar', {'id' : '--ID--'}) }}",                
                get_asignaturas: "{{ path('ajax_get_asignaturas', {'carrera': '--CARRERA--'}) }}",
                get_asignatura: "{{ path('ajax_get_asignatura', {'carrera': '--CARRERA--', 'codigo': '--CODIGO--'}) }}",              
                seccion_actual: null
            };

            SECCIONES.seccion_actual = SECCIONES.info_basica;

            $(document).ready(function () {
                $('#tab-info-basica').tab('show');


        {#$('.select-carrera').on('change', function (e) {
            var carrera = this.value;
            console.log(carrera);
        });#}

            });
            
            
            


        

        {#$("#btnAñadirAdscripto").click(function () {
            $(".bloque_adscripto:last").clone().insertAfter(".bloque_adscripto:last");
        });
        $("#btnAñadirColab").click(function () {
            $(".bloque_colaborador:last").clone().insertAfter(".bloque_colaborador:last");
        });
        $("#btnAñadirTema").click(function () {
            //alert('sdfsddf');
            $(".bloque_tema").clone().insertAfter(".bloque_tema:last");
            //alert('2');
        });#}
        {#            });#}
    </script>
{% endblock %}
