{% set page_id = 7 %}

{% extends "PlanificacionesBundle::planif-base.html.twig" %}

{% block tab_content %}

    {% form_theme form.actividadCurricular 'jquery.collection.html.twig' 'PlanificacionesBundle:7-cronograma:form_theme-cronograma.html.twig' %}

    {{ form_start(form) }}  

    {{ form_row(form.actividadCurricular) }}

    {% if planificacion.puedeEditarse() %}
        <div class="form-row mt-3">
            <div class="col-xs-12 col-sm-2">            
                <input type="submit" value="Guardar cambios" class="btn btn-success"/>      
            </div>
            {#        <div class="col-xs-12 offset-6 col-sm-2 text-right">            
                        <input type="reset" class="btn btn-secondary" value="Limpiar campos"/>
                    </div>#}
        </div>
    {% endif %}

    {{ form_end(form) }}  


{% endblock %} 


{% block javascripts %}
    {{ parent() }}

    {% if planificacion.puedeEditarse() %}
        <script>
            $(document).ready(function () {

                $('.cronograma-selector').collection({

                    position_field_selector: '.posicion',
                    add: '<a href="#" class="btn btn-outline-primary"><i class="fa fa-plus"></i> Agregar actividad</a>',
                    min: 0,
                    max: 20,

                    after_add: function (collection, item) {
                        item.find('.js-select2').select2({});

                        item.find('.tempusdominus-datepicker').datetimepicker({
                            locale: 'es',
                            format: 'DD/MM/YYYY'
                        });

                    }
                });

                /*           function actualizarPosicion(){
                 $('.sumar1').each(function (i, obj) {
                 var pos = parseInt( $(obj).text() );
                 $(obj).text(pos + 1)
                 console.log( pos + 1);
                 });
                 }*/

            });

        </script>
    {% endif %}

{% endblock %}    