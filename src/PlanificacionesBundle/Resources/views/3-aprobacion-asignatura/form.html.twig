{{ form_start(form) }}

<div class="alert alert-secondary text-dark shadow-sm mb-3 mb-lg-4 py-3">
    <div class="row mb-0">
        <div class="col-12 col-lg-4 align-self-center font-weight-bold">
            ¿Utiliza evaluación continua?
            <sup><i class="fa fa-info-circle text-dark small ml-1 text" aria-hidden="true" data-toggle="tooltip" data-html="true"
               title="La metodología de evaluación continua es utilizada por algunas asignaturas y solo exige definir un único parcial y su respectivo recuperatorio para la regularización de la asignatura."></i>
            </sup>
        </div>
        <div class="col-12 col-lg-6 align-self-end">
            {{ form_widget(form.utilizaEvalContinua) }}
        </div>
    </div>
</div>

<div id="pills-aprobacion">
    <ul class="nav nav-pills nav-fill shadow-sm" id="pills-tab" role="tablist">
        <li class="nav-item bg-white">
            <a class="nav-link active py-2" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab"
               aria-controls="pills-home" aria-selected="true">
                Requisitos para la regularizaci&oacute;n de la asignatura
            </a>
        </li>
        <li class="nav-item bg-white">
            <a class="nav-link py-2" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab"
               aria-controls="pills-profile" aria-selected="false">
                Requisitos para la promoción de la asignatura
            </a>
        </li>
        <li class="nav-item bg-white">
            <a class="nav-link py-2" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab"
               aria-controls="pills-contact" aria-selected="false">
                Ex&aacute;men final
            </a>
        </li>
    </ul>
    <div class="tab-content p-5 shadow-sm">
        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
            <div class="form-row mb-3">
                <div class="form-group col-sm-2 col-xs-12">
                    <label for="responsable">
                        {{ form_label(form.porcentajeAsistencia) }}
                    </label>
                </div>
                <div class="form-group col-sm-3 col-xs-12 ">     <!--form-group offset-2 col-xs-12 col-sm-3-->
                    {{ form_widget(form.porcentajeAsistencia) }}
                    {{ form_errors(form.porcentajeAsistencia) }}
                </div>
            </div>
            <!-- Parciales -->
            <div class="form-row mb-3">
                <div class="form-group col-sm-2 col-xs-12">
                    <label for="responsable">Parciales</label>
                </div>
                <div class="form-group col-sm-3 col-xs-12">
                    {% from '::macros.html.twig' import input_datetime_picker %}
                    {{ input_datetime_picker(form.fechaPrimerParcial, 'fecha_1er_parcial_picker', true ) }}

                </div>
                <div class="form-group col-sm-3 col-xs-12">
                    {% from '::macros.html.twig' import input_datetime_picker %}
                    {{ input_datetime_picker(form.fechaSegundoParcial, 'fecha_2do_parcial_picker', true ) }}
                </div>
            </div>
            <!-- Recuperatorios -->
            <div class="form-row mb-3">
                <div class="form-group col-sm-2 col-xs-12">
                    <label for="responsable">Recuperatorios</label>
                </div>
                <div class="form-group col-sm-3 col-xs-12">
                    {% from '::macros.html.twig' import input_datetime_picker %}
                    {{ input_datetime_picker(form.fechaRecupPrimerParcial, 'fecha_recu_1er_parcial_picker', true ) }}
                </div>
                <div class="form-group col-sm-3 col-xs-12">
                    {% from '::macros.html.twig' import input_datetime_picker %}
                    {{ input_datetime_picker(form.fechaRecupSegundoParcial, 'fecha_recu_2do_parcial_picker', true ) }}
                </div>
            </div>

            <div class="form-row">
                <div class="col-12 col-md-3">
                    {{ form_label(form.requisitosRegul) }}
                </div>
                <div class="col-12 col-md-9">
                    {{ form_widget(form.requisitosRegul) }}
                    {{ form_errors(form.requisitosRegul) }}
                </div>
            </div>


        </div>
        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">

            <div class="form-row mb-3">
                <div class="form-group mb-0 offset-2 col-sm-3 col-xs-12">
                    <label>¿Prevé promoción?</label>
                    <div id="preveeProm" class="formato-inputs-groups">
                        <div class="d-inline-block">
                            {{ form_widget(form.prevePromParcialTeoria) }}
                            {{ form_label(form.prevePromParcialTeoria) }}
                            {{ form_errors(form.prevePromParcialTeoria) }}
                        </div>

                        <div class="d-inline-block">
                            {{ form_widget(form.prevePromParcialPractica) }}
                            {{ form_label(form.prevePromParcialPractica) }}
                            {{ form_errors(form.prevePromParcialPractica) }}
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-row mb-3">
                <div class="offset-2 col-sm-4 col-xs-12 formato-inputs-groups ">
                    {{ form_label(form.preveCfi) }}
                    {{ form_widget(form.preveCfi) }}
                    {{ form_errors(form.preveCfi) }}
                </div>
            </div>

            <div
                class="preveCfiDiv {{ (planificacion.requisitosAprobacion is not null and planificacion.requisitosAprobacion.preveCfi) ? '' : 'd-none' }}">
                <div class="form-row mb-3">
                    <div class="offset-2 col-sm-3 col-xs-12">
                        {% from '::macros.html.twig' import input_datetime_picker %}
                        {{ input_datetime_picker(form.fechaParcailCfi, 'fecha_cfi_picker', true ) }}
                    </div>
                    <div class="col-sm-3 col-xs-12">
                        {% from '::macros.html.twig' import input_datetime_picker %}
                        {{ input_datetime_picker(form.fechaRecupCfi, 'fecha_recup_cfi_picker', true ) }}
                    </div>
                </div>
                <div class="form-row mb-3">
                    <div class="offset-2 col-md-6 col-sm-6 col-xs-12">
                        {{ form_label(form.modalidadCfi) }}
                        {{ form_widget(form.modalidadCfi) }}
                        {{ form_errors(form.modalidadCfi) }}
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="col-12 col-md-3">
                    {{ form_label(form.requisitosPromo) }}
                </div>
                <div class="col-12 col-md-9">
                    {{ form_widget(form.requisitosPromo) }}
                    {{ form_errors(form.requisitosPromo) }}
                </div>
            </div>

        </div>


        <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
            <div class="form-row mb-3">
                <div class="form-group offset-2 col-sm-8 col-xs-10">
                    {{ form_label(form.examenFinalModalidadRegulares) }}
                    {{ form_widget(form.examenFinalModalidadRegulares) }}
                    {{ form_errors(form.examenFinalModalidadRegulares) }}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group offset-2 col-sm-8 col-xs-10">
                    {{ form_label(form.examenFinalModalidadLibres) }}
                    {{ form_widget(form.examenFinalModalidadLibres) }}
                    {{ form_errors(form.examenFinalModalidadLibres) }}
                </div>
            </div>

        </div>
    </div>
</div>


{% if planificacion.puedeEditarse() %}
    <div class="form-row">
        <div class="col-xs-10 col-sm-10 text-right">
            <input type="submit" value="Guardar cambios" class="btn btn-success"/>
        </div>
        {#        <div class="col-xs-12 offset-6 col-sm-2 text-right">
            <input type="reset" class="btn btn-secondary" value="Limpiar campos"/>
        </div> #}
    </div>
{% endif %}

{{ form_end(form) }}
