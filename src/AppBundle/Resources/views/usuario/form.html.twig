
{{ form_start(form) }}

<div class="bg-light p-5">

    {#{{ dump(form) }}#}
    <div>
        {{ form_errors(form) }}
    </div>

    <div class="form-row">   
        <div class="col-4">
            {{ form_label(form.username) }}
            {{ form_widget(form.username) }}
            {{ form_errors(form.username) }}      
        </div>

        <div class="col-4">
            {{ form_label(form.plainPassword) }}
            {{ form_widget(form.plainPassword) }}
            {{ form_errors(form.plainPassword) }}      
        </div>
        <div class="col-4 formato-inputs-groups">
            {{ form_label(form.bloqueado) }}
            {{ form_widget(form.bloqueado) }}
            {{ form_errors(form.bloqueado) }}
        </div>
    </div>

    <div class="form-row">
        <div class="col-4">
            {{ form_label(form.persona.tipoDocumento) }}
            {{ form_widget(form.persona.tipoDocumento) }}
            {{ form_errors(form.persona.tipoDocumento) }}      
        </div>
        <div class="col-4">
            {{ form_label(form.persona.documento) }}
            {{ form_widget(form.persona.documento) }}
            {{ form_errors(form.persona.documento) }}
        </div>
        <div class="col-4">
            {{ form_label(form.persona.genero) }}
            {{ form_widget(form.persona.genero) }}
            {{ form_errors(form.persona.genero) }}
        </div>
    </div>


    <div class="form-row">
        <div class="col-4">
            {{ form_label(form.persona.apellidos) }}
            {{ form_widget(form.persona.apellidos) }}
            {{ form_errors(form.persona.apellidos) }}      
        </div>
        <div class="col-4">
            {{ form_label(form.persona.nombres) }}
            {{ form_widget(form.persona.nombres) }}
            {{ form_errors(form.persona.nombres) }}
        </div>
        <div class="col-4">
            {% from '::macros.html.twig' import input_datetime_picker %}     
            {{  input_datetime_picker(form.persona.fechaNacimiento, form.persona.fechaNacimiento.vars.id ~ '_picker', true ) }} 
        </div>
    </div>


    <div class="form-row">    
        <div class="col-8">
            {{ form_label(form.persona.email) }}
            {{ form_widget(form.persona.email) }}
            {{ form_errors(form.persona.email) }}      
        </div>
        <div class="col-4">
            {{ form_label(form.persona.telefono) }}
            {{ form_widget(form.persona.telefono) }}
            {{ form_errors(form.persona.telefono) }}
        </div>
    </div>


    <div class="row mb-0">   
        <div class="col-12">
            {{ form_label(form.roles) }}
            <div>
                <table class="table table-sm bg-white border border-secondary">
                    <thead class="bg-secondary text-white">
                        <tr>                                 
                            <th class="">
                                T&iacute;tulo
                            </th>
                            <th class=" text-center">
                                Â¿Asignar rol?
                            </th> 
                            {% if not form.vars.disabled %}
                                <th class="">
                                    Acciones
                                </th>
                            {% endif %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for child in form.roles %}
                            <tr>                                
                                <td>
                                    {{ form_label(child, null, { 'label_attr' : {'class' : 'mb-0'} } ) }}
                                </td>
                                <td class=" text-center">{{ form_widget(child) }}</td>  
                                {% if not form.vars.disabled %}
                                    <td class="">                                      
                                        <button class="btn btn-sm btn-outline-secondary consultar-permisos" data-id-rol="{{ child.vars.value }}">Ver permisos</button>                                    
                                    </td>   
                                {% endif %}
                            </tr>                       
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {{ form_errors(form.roles) }}
        </div>
    </div>


</div>

{{ form_end(form) }}



<div class="table-responsive d-none" id="tabla-permisos">
    <table class="table table-sm table-condensed mb-0">
        <thead class="bg-gray-400">
            <tr>                                  
                <th class='text-center'>C&oacute;digo</th>
                <th>T&iacute;tulo</th>
                <th>Descripci&oacute;n</th>
            </tr>
        </thead>
        <tbody>            
        </tbody>
    </table>
</div>
